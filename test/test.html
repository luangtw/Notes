<html>
	<head>
		<link type="text/css" rel="stylesheet" href="stylze.css" />
		<script type="text/javascript" src="js/effects.js"></script>
		<script type="text/javascript" src="js/jQuery_3.4.1.js"></script>
	</head>
	<body>
		<div class="box">
			<div class="bar" id='a'>

			</div>
		</div>

		<div class="xToping" id="zTop" onclick="xToping(0.5)">置顶</div>
	</body>
	<style type="text/css">
		ul,li{
			list-style: none;
		}
		.box{
			width: 800px;
			margin: 0 auto;
		}
		.box .bar{
		}
		.box .bar .b{
			width: 80px;
			margin-right: 50px;
			float: left;
		}
		.box .bar .b .cl{
			width: 40px;
			height: 40px;
			background: #0ff;
			margin: 0 auto;
			cursor: pointer;
		}
		.box .bar .b .cd{
			width: 80px;
			height: 50px;
			display: none;
			margin-top: 20px;
			background: #888;
		}
		.box .bar .b .cl:hover{
			background: #f00;
		}
	</style>
	<script>
		/*
		 * JS 闭包
		 * 闭包：可以在函数外访问到函数的局部变量
		 * 利用JS可以将函数当做一个值，给一个变量赋值
		 * 而在函数内部最后 return 一个局部变量
		 * 函数的值就是这个局部变量的值 
		 */
		var returnValue = date();
		function date(){
			var now = new Date();
			var i = now.getDate();
			return i;
    	}
    	var a = date();

    	// 对象
    	var skyFly = {
    		year: '2035',
    		date: '10.1',
    		height: '30000',
    		fly: function (){
    			return this.year+ '年' + this.date + '日'+ '高度' + this.height + '米';
    		}
    	}
    	var a = skyFly.fly();
    	window.onload = function (){
    		var a = document.getElementById('a');
    		for(var i=0;i<5;i++){
    			var node  = document.createElement('div');
    			var cl    = document.createElement('li');
    			var cd    = document.createElement('div');
    			cl.className = 'cl';
    			cd.className = 'cd';
    			node.appendChild(cl);
    			node.appendChild(cd);
    			a.appendChild(node);
    			a.children[i].className = 'b';
    			cl.id ='cl'
    			cl.onmouseover = function (){
    				this.siblings = function (obj){
    				console.log(obj.previousSibling);
						var nodes = [];
						while(obj = obj.nextSibling){
							if(obj.nodeType == 1){
								nodes.push(obj);
							}
						}
						while(obj = obj.previousSibling){
							if(obj.nodeType == 1){
								nodes.push(obj);
							}
						}
						return nodes;	
    				}
    				var io = this;
    				var aaa = this.siblings(io);
    				aaa[0].style.display = 'block';
    				return aaa[0];
    			}
    			cl.onmouseout = function (){
    				var aaaa = cl.onmouseover(this);
    				aaaa.style.display = 'none';
    			}
    		}
    		xToping(1);
    	}


    	// 继承
    	// 父类
    	function Persion (){}
    		this.xLog = function (){
    			console.log('打工是不可能')
    		}
		var per = new Persion();

		
		// 等待
		function xWait(xTime){
			var i = 0;
			function xSleep(){
				i++;
				if(i>=xTime){
					clearInterval(xTimer);
				}
			}
			let xTimer = setInterval(xSleep,1000);
			return i;
		}
		// 滑动动画效果
		function animationMove(id){
			var tImgNode = document.getElementById(id);
			var xSliderNum = 0;
			function xSlider(){
				var tImgNodeWidth = tImgNode.offsetWidth;
				xChangeNum = tImgNodeWidth / 50;
				xSliderNum += xChangeNum;
				tImgNode.style.marginLeft = '-'+xSliderNum + 'px';
				if(xSliderNum >= 800){
					clearInterval(xTimer);
				}
				if(xTimer){
					console.log(xTimer);
				}
			}
			var xTimer = setInterval(xSlider,20);

		}
		// 置顶
		function xToping(xTime){
			var xScroll = window.scrollY;
			var xDistance = (xScroll / 25);
			var timer = setInterval(function(){
				window.scrollBy(0,-xDistance);
				if(window.scrollY == 0){
				clearInterval(timer);
			}
			},40*xTime);

		}
		// 遍历子元素
		/*function siblings(id){
			let xNodeObject = document.getElementById(id);
			var nodes = [];
			while(xNodeObject = xNodeObject.nextSibling){
				if(xNodeObject.nodeType == 1){
					nodes.push(xNodeObject);
				}s
			}
			xNodeObject = document.getElementById(id);
			while(xNodeObject = xNodeObject.previousSibling){
				if(xNodeObject.nodeType == 1){
					nodes.push(xNodeObject);
				}
			}
			return nodes;		
		} */
		// 更改颜色
		function xChange(id){
			var xNodeObject = document.getElementById(id);
			xNodeObject.style.background = "#f0f";
			for(let i = 0;i < siblings(id).length;i++){
				siblings(id)[i].style.background = "#fff";
				console.log(i);
			}
		}
		var s =JSON.parse('{"name":"小明","age":14}');
		var nowTime = new Date();
		function y(){
			var qq = 13;
			var s = function(){
				return qq++;
			}
			return s;
		}
		var xNodeArr = ['前端','开发','测试'];
		var person = {
			name : '陈梓林',
			age  : '21',
			write: function (){
				console.log(xNodeArr);
			}
		}
	</script>
</html>